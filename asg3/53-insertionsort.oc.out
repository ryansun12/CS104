; 0.  1: # 1 "53-insertionsort.oc"; 1.  0: 
; 1.  1: # 1 "<built-in>"
; 2.  1: # 1 "<command-line>"
; 3.  1: # 1 "/usr/include/stdc-predef.h" 1 3 4
; 4.  1: # 1 "<command-line>" 2
; 5.  1: # 1 "53-insertionsort.oc"
; 6.  1: 
; 6.  2: 
; 6.  3: 
; 6.  4: 
; 6.  5: 
; 6.  6: # 1 "oclib.h" 1
; 7.  1: # 22 "oclib.h"
; 8. 22: void fail (string expr, string file, int line);
; 8. 23: 
; 8. 24: void putchr (int chr);
; 8. 25: void putint (int num);
; 8. 26: void putstr (string str);
; 8. 27: 
; 8. 28: int getchr();
; 8. 29: string getstr();
; 8. 30: string getln();
; 8. 31: # 7 "53-insertionsort.oc" 2
; 9.  7: 
; 9.  8: int strcmp (string s1, string s2) {
; 9.  9:    int index = 0;
; 9. 10:    int contin = 1;
; 9. 11:    int s1c = 0;
; 9. 12:    int s2c = 0;
; 9. 13:    int cmp = 0;
; 9. 14:    while (contin) {
; 9. 15:       s1c = s1[index];
; 9. 16:       s2c = s2[index];
; 9. 17:       cmp = s1c - s2c;
; 9. 18:       if (cmp != 0) return cmp;
; 9. 19:       if (s1c == '\0') contin = 0;
; 9. 20:       if (s2c == '\0') contin = 0;
; 9. 21:       index = index + 1;
; 9. 22:    }
; 9. 23:    return 0;
; 9. 24: }
; 9. 25: 
; 9. 26: void insertion_sort (int size, array<string> words) {
; 9. 27:    int sorted = 1;
; 9. 28:    int slot = 0;
; 9. 29:    string element = nullptr;
; 9. 30:    int contin = 0;
; 9. 31:    while (sorted < size) {
; 9. 32:       slot = sorted;
; 9. 33:       element = words[slot];
; 9. 34:       contin = 1;
; 9. 35:       while (contin) {
; 9. 36:          if (slot == 0) {
; 9. 37:             contin = 0;
; 9. 38:          }else if (strcmp (words[slot - 1], element) <= 0) {
; 9. 39:             contin = 0;
; 9. 40:          }else {
; 9. 41:             words[slot] = words[slot - 1];
; 9. 42:             slot = slot - 1;
; 9. 43:          }
; 9. 44:       }
; 9. 45:       words[slot] = element;
; 9. 46:       sorted = sorted + 1;
; 9. 47:    }
; 9. 48: }
; 9. 49: 
; 9. 50: 
; 9. 51: void print_array (int size, array<string> words) {
; 9. 52:    int index = 0;
; 9. 53:    while (index < size) {
; 9. 54:       putstr (words[index]);
; 9. 55:       putchr ('\n');
; 9. 56:       index = index + 1;
; 9. 57:    }
; 9. 58: }
; 9. 59: 
; 9. 60: int read_words (int size, array<string> words) {
; 9. 61:    int count = 0;
; 9. 62:    string word = nullptr;
; 9. 63:    while (1) {
; 9. 64:       if (count == size) return count;
; 9. 65:       word = getstr();
; 9. 66:       if (word == nullptr) return count;
; 9. 67:       words[count] = word;
; 9. 68:       count = count + 1;
; 9. 69:    }
; 9. 70: }
; 9. 71: 
; 9. 72: int main() {
; 9. 73:    int count = 100;
; 9. 74:    array<string> words = alloc<array<string>>(count);
; 9. 75:    count = read_words (count, words);
; 9. 76:    insertion_sort (count, words);
; 9. 77:    print_array (count, words);
; 9. 78:    return 0;
; 9. 79: }

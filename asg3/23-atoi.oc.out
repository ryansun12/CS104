; 0.  1: # 1 "23-atoi.oc"; 1.  0: 
; 1.  1: # 1 "<built-in>"
; 2.  1: # 1 "<command-line>"
; 3.  1: # 1 "/usr/include/stdc-predef.h" 1 3 4
; 4.  1: # 1 "<command-line>" 2
; 5.  1: # 1 "23-atoi.oc"
; 6.  1: 
; 6.  2: 
; 6.  3: # 1 "oclib.h" 1
; 7.  1: # 22 "oclib.h"
; 8. 22: void fail (string expr, string file, int line);
; 8. 23: 
; 8. 24: void putchr (int chr);
; 8. 25: void putint (int num);
; 8. 26: void putstr (string str);
; 8. 27: 
; 8. 28: int getchr();
; 8. 29: string getstr();
; 8. 30: string getln();
; 8. 31: # 4 "23-atoi.oc" 2
; 9.  4: 
; 9.  5: int atoi (string str) {
; 9.  6:    int neg = 0;
; 9.  7:    int num = 0;
; 9.  8:    int digit = 0;
; 9.  9:    {if (not (str != nullptr)) fail ("str != nullptr", "23-atoi.oc", 9);};
; 9. 10:    if (str[0] != '\0') {
; 9. 11:       if (str[0] == '-') {
; 9. 12:          digit = digit + 1;
; 9. 13:          neg = 1;
; 9. 14:       }
; 9. 15:       int contin = 1;
; 9. 16:       while (contin) {
; 9. 17:          if (str[digit] == '\0') {
; 9. 18:             contin = 0;
; 9. 19:          }else {
; 9. 20:             int chr = str[digit];
; 9. 21:             digit = digit + 1;
; 9. 22:             if (chr < '0') contin = 0;
; 9. 23:             else if (chr > '9') contin = 0;
; 9. 24:             else num = num * 10 + chr - '0';
; 9. 25:          }
; 9. 26:       }
; 9. 27:       if (neg) num = - num;
; 9. 28:    }
; 9. 29:    return num;
; 9. 30: }
; 9. 31: 
; 9. 32: int main (int argc, array<string> argv) {
; 9. 33:    int argi = 1;
; 9. 34:    string arg = nullptr;
; 9. 35:    while (argi < argc) {
; 9. 36:       arg = argv[argi];
; 9. 37:       putstr (arg);
; 9. 38:       putstr (" = ");
; 9. 39:       putint (atoi (arg));
; 9. 40:       putchr ('\n');
; 9. 41:       argi = argi + 1;
; 9. 42:    }
; 9. 43:    return 0;
; 9. 44: }

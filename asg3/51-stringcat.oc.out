; 0.  1: # 1 "51-stringcat.oc"; 1.  0: 
; 1.  1: # 1 "<built-in>"
; 2.  1: # 1 "<command-line>"
; 3.  1: # 1 "/usr/include/stdc-predef.h" 1 3 4
; 4.  1: # 1 "<command-line>" 2
; 5.  1: # 1 "51-stringcat.oc"
; 6.  1: 
; 6.  2: 
; 6.  3: 
; 6.  4: 
; 6.  5: 
; 6.  6: # 1 "oclib.h" 1
; 7.  1: # 22 "oclib.h"
; 8. 22: void fail (string expr, string file, int line);
; 8. 23: 
; 8. 24: void putchr (int chr);
; 8. 25: void putint (int num);
; 8. 26: void putstr (string str);
; 8. 27: 
; 8. 28: int getchr();
; 8. 29: string getstr();
; 8. 30: string getln();
; 8. 31: # 7 "51-stringcat.oc" 2
; 9.  7: 
; 9.  8: int strlen (string str) {
; 9.  9:    int len = 0;
; 9. 10:    while (str[len] != '\0') len = len + 1;
; 9. 11:    return len;
; 9. 12: }
; 9. 13: 
; 9. 14: void strcat (string dest, string src) {
; 9. 15:    int pos = strlen (dest);
; 9. 16:    int srcix = 0;
; 9. 17:    while (src[srcix] != '\0') {
; 9. 18:       dest[pos] = src[srcix];
; 9. 19:       pos = pos + 1;
; 9. 20:       srcix = srcix + 1;
; 9. 21:    }
; 9. 22:    dest[pos] = '\0';
; 9. 23: }
; 9. 24: 
; 9. 25: int main (int argc, array<string> argv) {
; 9. 26:    int length = 0;
; 9. 27:    int argi = 1;
; 9. 28:    while (argi < argc) {
; 9. 29:       length = length + strlen (argv[argi]) + 2;
; 9. 30:       argi = argi + 1;
; 9. 31:    }
; 9. 32:    putstr ("concat length = ");
; 9. 33:    putint (length);
; 9. 34:    putchr ('\n');
; 9. 35:    string concat = alloc<string> (length);
; 9. 36:    argi = 1;
; 9. 37:    putchr ('[');
; 9. 38:    while (argi < argc) {
; 9. 39:       strcat (concat, "(");
; 9. 40:       strcat (concat, argv[argi]);
; 9. 41:       strcat (concat, ")");
; 9. 42:       argi = argi + 1;
; 9. 43:    }
; 9. 44:    putstr (concat);
; 9. 45:    putstr ("]\n");
; 9. 46:    return 0;
; 9. 47: }
